(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[748],{4446:(e,t,r)=>{Promise.resolve().then(r.bind(r,5349))},6046:(e,t,r)=>{"use strict";var n=r(6658);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},5349:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(5155),s=r(2115),a=r(6046),l=r(4595),i=r(3312),o=r(9749),d=r(7058);function c(){let[e,t]=(0,s.useState)(!0),[r,c]=(0,s.useState)(0),[u,m]=(0,s.useState)(0),[f,p]=(0,s.useState)(0),[h,g]=(0,s.useState)(0),[x,v]=(0,s.useState)([]),b=(0,a.useRouter)();(0,s.useEffect)(()=>{let e=l.j.onAuthStateChanged(e=>{e?(y(),t(!1)):b.push("/admin-view/login")});return()=>e()},[b]);let y=async()=>{try{let e=(0,d.rJ)(l.db,"responses"),t=(await (0,d.GG)(e)).docs.map(e=>e.data());console.log("Fetched Responses:",t),c(t.length),m(j(t)),p(N(t)),g(w(t)),v(t)}catch(e){console.error("Error fetching data:",e)}},j=e=>{let t=e.filter(e=>"completed"===e.user_info.completion_status);return console.log("Completed Responses:",t),t.length/e.length*100||0},N=e=>{let t=new Date;return e.filter(e=>{let r=new Date(e.user_info.last_updated);return r.getDate()===t.getDate()&&r.getMonth()===t.getMonth()&&r.getFullYear()===t.getFullYear()}).length},w=e=>e.reduce((e,t)=>e+(t.user_info.completion_time||0),0)/e.length||0;return e?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,n.jsx)("div",{className:"text-white",children:"Loading dashboard..."})}):(0,n.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Kreo Gamer Survey Dashboard"}),(0,n.jsx)("div",{className:"flex space-x-4",children:(0,n.jsx)(i.$,{variant:"outline",onClick:()=>b.push("/admin-view/"),children:"Back to Admin View"})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,n.jsxs)(o.Zp,{className:"bg-gray-800 border-none",children:[(0,n.jsx)(o.aR,{className:"pb-2",children:(0,n.jsx)(o.ZB,{className:"text-gray-400 text-sm font-normal",children:"Total Responses"})}),(0,n.jsx)(o.Wu,{children:(0,n.jsx)("p",{className:"text-4xl font-bold",children:r})})]}),(0,n.jsxs)(o.Zp,{className:"bg-gray-800 border-none",children:[(0,n.jsx)(o.aR,{className:"pb-2",children:(0,n.jsx)(o.ZB,{className:"text-gray-400 text-sm font-normal",children:"Completion Rate"})}),(0,n.jsx)(o.Wu,{children:(0,n.jsxs)("p",{className:"text-4xl font-bold",children:[u,"%"]})})]}),(0,n.jsxs)(o.Zp,{className:"bg-gray-800 border-none",children:[(0,n.jsx)(o.aR,{className:"pb-2",children:(0,n.jsx)(o.ZB,{className:"text-gray-400 text-sm font-normal",children:"Responses Today"})}),(0,n.jsx)(o.Wu,{children:(0,n.jsx)("p",{className:"text-4xl font-bold",children:f})})]}),(0,n.jsxs)(o.Zp,{className:"bg-gray-800 border-none",children:[(0,n.jsx)(o.aR,{className:"pb-2",children:(0,n.jsx)(o.ZB,{className:"text-gray-400 text-sm font-normal",children:"Average Completion Time"})}),(0,n.jsx)(o.Wu,{children:(0,n.jsxs)("p",{className:"text-4xl font-bold",children:[h,"m"]})})]})]}),(0,n.jsxs)(o.Zp,{className:"bg-gray-800 border-none",children:[(0,n.jsx)(o.aR,{children:(0,n.jsx)(o.ZB,{children:"Survey Responses"})}),(0,n.jsx)(o.Wu,{children:x.length>0?x.map((e,t)=>(0,n.jsx)("p",{className:"text-gray-400",children:JSON.stringify(e)},t)):(0,n.jsx)("p",{className:"text-gray-400",children:"No responses yet."})})]})]})})}},3312:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var n=r(5155),s=r(2115),a=r(2317),l=r(1027),i=r(1567);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:d=!1,...c}=e,u=d?a.DX:"button";return(0,n.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:r})),ref:t,...c})});d.displayName="Button"},9749:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>i,wL:()=>u});var n=r(5155),s=r(2115),a=r(1567);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},4595:(e,t,r)=>{"use strict";r.d(t,{db:()=>i,j:()=>o});var n=r(9904),s=r(7058),a=r(4565);let l=0===(0,n.Dk)().length?(0,n.Wp)({apiKey:"AIzaSyASvnePd7RJ6RmwvyZvhE040t9MHnPqgVE",authDomain:"howindiagames.firebaseapp.com",projectId:"howindiagames",storageBucket:"howindiagames.firebasestorage.app",messagingSenderId:"450815957892",appId:"1:450815957892:web:31c8c6c026712d1599dbd1"}):(0,n.Dk)()[0],i=(0,s.aU)(l),o=(0,a.xI)(l)},1567:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var n=r(3463),s=r(9795);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,n.$)(t))}},8068:(e,t,r)=>{"use strict";r.d(t,{s:()=>l,t:()=>a});var n=r(2115);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function a(...e){return t=>{let r=!1,n=e.map(e=>{let n=s(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():s(e[t],null)}}}}function l(...e){return n.useCallback(a(...e),e)}},2317:(e,t,r)=>{"use strict";r.d(t,{DX:()=>l});var n=r(2115),s=r(8068),a=r(5155),l=n.forwardRef((e,t)=>{let{children:r,...s}=e,l=n.Children.toArray(r),o=l.find(d);if(o){let e=o.props.children,r=l.map(t=>t!==o?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,a.jsx)(i,{...s,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,a.jsx)(i,{...s,ref:t,children:r})});l.displayName="Slot";var i=n.forwardRef((e,t)=>{let{children:r,...a}=e;if(n.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),l=function(e,t){let r={...t};for(let n in t){let s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...e)=>{a(...e),s(...e)}:s&&(r[n]=s):"style"===n?r[n]={...s,...a}:"className"===n&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==n.Fragment&&(l.ref=t?(0,s.t)(t,e):e),n.cloneElement(r,l)}return n.Children.count(r)>1?n.Children.only(null):null});i.displayName="SlotClone";var o=({children:e})=>(0,a.jsx)(a.Fragment,{children:e});function d(e){return n.isValidElement(e)&&e.type===o}},1027:(e,t,r)=>{"use strict";r.d(t,{F:()=>l});var n=r(3463);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=n.$,l=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:i}=t,o=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],n=null==i?void 0:i[e];if(null===t)return null;let a=s(t)||s(n);return l[e][a]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return a(e,o,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...d}[t]):({...i,...d})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,895,181,118,441,517,358],()=>t(4446)),_N_E=e.O()}]);