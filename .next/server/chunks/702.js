exports.id=702,exports.ids=[702],exports.modules={18716:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,13219,23)),Promise.resolve().then(o.t.bind(o,34863,23)),Promise.resolve().then(o.t.bind(o,25155,23)),Promise.resolve().then(o.t.bind(o,40802,23)),Promise.resolve().then(o.t.bind(o,9350,23)),Promise.resolve().then(o.t.bind(o,48530,23)),Promise.resolve().then(o.t.bind(o,88921,23))},76860:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,66959,23)),Promise.resolve().then(o.t.bind(o,33875,23)),Promise.resolve().then(o.t.bind(o,88903,23)),Promise.resolve().then(o.t.bind(o,57174,23)),Promise.resolve().then(o.t.bind(o,84178,23)),Promise.resolve().then(o.t.bind(o,87190,23)),Promise.resolve().then(o.t.bind(o,61365,23))},42983:(e,t,o)=>{Promise.resolve().then(o.bind(o,14411)),Promise.resolve().then(o.bind(o,47809))},82303:(e,t,o)=>{Promise.resolve().then(o.bind(o,37239)),Promise.resolve().then(o.bind(o,36044))},37239:(e,t,o)=>{"use strict";o.d(t,{ToastProvider:()=>i,d:()=>a});var r=o(45512),n=o(58009);let s=(0,n.createContext)(void 0);function i({children:e}){let[t,o]=(0,n.useState)([]),i=e=>{o(t=>t.filter(t=>t.id!==e))};return(0,r.jsxs)(s.Provider,{value:{toasts:t,toast:({title:e,description:t,duration:r=3e3})=>{let n=Math.random().toString(36).substring(2,9),s={id:n,title:e,description:t,duration:r};o(e=>[...e,s]),r>0&&setTimeout(()=>{i(n)},r)},dismiss:i},children:[e,(0,r.jsx)(l,{})]})}function l(){let e=(0,n.useContext)(s);if(!e)return null;let{toasts:t,dismiss:o}=e;return 0===t.length?null:(0,r.jsx)("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:t.map(e=>(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-sm w-full animate-in fade-in slide-in-from-bottom-5 border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),e.description&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:e.description})]}),(0,r.jsx)("button",{onClick:()=>o(e.id),className:"ml-4 inline-flex text-gray-400 focus:outline-none focus:text-gray-500 rounded-lg p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700",children:"\xd7"})]})},e.id))})}function a(){let e=(0,n.useContext)(s);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},36044:(e,t,o)=>{"use strict";o.d(t,{SurveyProvider:()=>u,Y:()=>m});var r=o(45512),n=o(58009),s=o(77141),i=o(17656),l=o(67746);let a=async e=>{try{let t=(0,i.H9)((0,i.rJ)(s.db,"responses"),e),o=await (0,i.x7)(t);if(!o.exists())throw Error("Response not found");let r=o.data();return await (0,i.mZ)(t,{"user_info.completion_status":"completed","user_info.completion_percentage":100,"user_info.completion_time":(0,i.O5)()}),await (0,l.c)({...r,user_info:{...r.user_info,completion_status:"completed",completion_percentage:100}},e),!0}catch(e){return console.error("Error marking survey as completed:",e),!0}},c={RESPONSE_ID:"survey_response_id"},d=(0,n.createContext)(void 0);function u({children:e}){let[t,o]=(0,n.useState)(0),[s,i]=(0,n.useState)({}),[l,u]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),[h,p]=(0,n.useState)(null);(0,n.useRef)(null);let f=()=>{let e=s.demographics?.age;return e?"Under 18"===e?"demographics_under18":"18-24"===e?"demographics_18to24":"demographics_25plus":"demographics"},v=()=>{let e=s.demographics?.age,t=s.demographics?.gender;if(!e||!t)return console.log("Missing age or gender, using default section"),"gaming_family_under18_male";console.log("Determining family section for:",{age:e,gender:t});let o="female"===t.toLowerCase();if("Under 18"===e){let e=o?"gaming_family_under18_female":"gaming_family_under18_male";return console.log("Selected section for Under 18:",e),e}if("18-24"===e){let e=o?"gaming_family_18to24_female":"gaming_family_18to24_male";return console.log("Selected section for 18-24:",e),e}let r=o?"gaming_family_25plus_female":"gaming_family_25plus_male";return console.log("Selected section for 25+:",r),r},y=()=>{let e=["demographics",f(),"gaming_preferences","gaming_habits","gaming_lifestyle",v(),"future_gaming"];return console.log("Section order determined:",e),e},x=(0,n.useCallback)(async()=>{},[s,t,l]),b=y()[t],S=t===y().length-1;return(0,r.jsx)(d.Provider,{value:{currentSection:b,responses:s,setCurrentSection:e=>{let t=y().indexOf(e);-1!==t&&o(t)},updateResponses:(e,t)=>{i(o=>({...o,[e]:t}))},isLastSection:S,goToNextSection:()=>{console.log("goToNextSection called");let e=y(),r=e[t];if(console.log("Current section index:",t),console.log("Section order:",e),console.log("Current section:",r),t<e.length-1){if("demographics"===r){let t=f();console.log("Going to demographic section:",t),o(e.indexOf(t))}else{let r=t+1,n=e[r];console.log("Going to next section, new index:",r),console.log("Next section:",n),o(r)}}else if(t===e.length-1){console.log("This is the last section, marking as completed");let e=localStorage.getItem(c.RESPONSE_ID);e&&a(e)}x()},goToPreviousSection:()=>{let e=y();t>0&&(["demographics_under18","demographics_18to24","demographics_25plus"].includes(b)?o(e.indexOf("demographics")):o(e=>e-1))},resetSurvey:()=>{i({}),o(0),p(null)},isSaving:m,lastSaved:h,getDemographicSection:f,getFamilySection:v,getSectionOrder:y,forceSave:x},children:e})}function m(){let e=(0,n.useContext)(d);if(void 0===e)throw Error("useSurvey must be used within a SurveyProvider");return e}},77141:(e,t,o)=>{"use strict";o.d(t,{db:()=>l,j:()=>a});var r=o(46722),n=o(17656),s=o(1564);let i=0===(0,r.Dk)().length?(0,r.Wp)({apiKey:"AIzaSyASvnePd7RJ6RmwvyZvhE040t9MHnPqgVE",authDomain:"howindiagames.firebaseapp.com",projectId:"howindiagames",storageBucket:"howindiagames.firebasestorage.app",messagingSenderId:"450815957892",appId:"1:450815957892:web:31c8c6c026712d1599dbd1"}):(0,r.Dk)()[0],l=(0,n.aU)(i),a=(0,s.xI)(i)},67746:(e,t,o)=>{"use strict";o.d(t,{$:()=>n,c:()=>r});let r=async(e,t)=>{try{let o=await fetch("/api/sync-to-sheets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({responseData:e,responseId:t})});if(!o.ok){let e=await o.json();return console.error("Error syncing to Google Sheets:",e),!1}return console.log(`Survey response ${t} synced to Google Sheets`),!0}catch(e){return console.error("Error syncing to Google Sheets:",e),!1}},n=async()=>{try{let e=await fetch("/api/test-sheets");if(!e.ok){let t=await e.json();return console.error("Error testing Google Sheets connection:",t),!1}let t=await e.json();return console.log("Test connection to Google Sheets successful:",t),!0}catch(e){return console.error("Error testing Google Sheets connection:",e),!1}}},71354:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>c,metadata:()=>a});var r=o(62740),n=o(85041),s=o.n(n);o(61135);var i=o(47809),l=o(14411);let a={title:"Kreo Ultimate Gamer Survey",description:"India's first comprehensive gamer survey",icons:{icon:"/android-chrome-512x512.png",apple:"/android-chrome-512x512.png"}};function c({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:s().className,children:(0,r.jsx)(l.ToastProvider,{children:(0,r.jsx)(i.SurveyProvider,{children:e})})})})}},14411:(e,t,o)=>{"use strict";o.d(t,{ToastProvider:()=>n});var r=o(46760);let n=(0,r.registerClientReference)(function(){throw Error("Attempted to call ToastProvider() from the server but ToastProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Kreoo\\kreo-gamer-survey\\src\\components\\ui\\toast.tsx","ToastProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useToast() from the server but useToast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Kreoo\\kreo-gamer-survey\\src\\components\\ui\\toast.tsx","useToast"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useToastShow() from the server but useToastShow is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Kreoo\\kreo-gamer-survey\\src\\components\\ui\\toast.tsx","useToastShow")},47809:(e,t,o)=>{"use strict";o.d(t,{SurveyProvider:()=>n});var r=o(46760);let n=(0,r.registerClientReference)(function(){throw Error("Attempted to call SurveyProvider() from the server but SurveyProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Kreoo\\kreo-gamer-survey\\src\\context\\SurveyContext.tsx","SurveyProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useSurvey() from the server but useSurvey is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Kreoo\\kreo-gamer-survey\\src\\context\\SurveyContext.tsx","useSurvey")},61135:()=>{}};