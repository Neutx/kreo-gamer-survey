(()=>{var e={};e.id=748,e.ids=[748],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},73496:e=>{"use strict";e.exports=require("http2")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},19771:e=>{"use strict";e.exports=require("process")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},14053:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>l});var s=t(70260),a=t(28203),n=t(25155),i=t.n(n),o=t(67292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let l=["",{children:["admin-view",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,68371)),"D:\\Kreoo\\kreo-gamer-survey\\src\\app\\admin-view\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,64540)),"D:\\Kreoo\\kreo-gamer-survey\\src\\app\\admin-view\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,71354)),"D:\\Kreoo\\kreo-gamer-survey\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["D:\\Kreoo\\kreo-gamer-survey\\src\\app\\admin-view\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin-view/page",pathname:"/admin-view",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},55629:(e,r,t)=>{Promise.resolve().then(t.bind(t,64540))},79597:(e,r,t)=>{Promise.resolve().then(t.bind(t,7712))},63530:(e,r,t)=>{Promise.resolve().then(t.bind(t,68371))},3282:(e,r,t)=>{Promise.resolve().then(t.bind(t,19759))},79334:(e,r,t)=>{"use strict";var s=t(58686);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},7712:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var s=t(45512),a=t(58009),n=t(79334),i=t(28531),o=t.n(i),d=t(77141),l=t(1564),c=t(39400);function m({children:e}){let[r,t]=(0,a.useState)(null),[i,m]=(0,a.useState)(!0),x=(0,n.usePathname)(),u=(0,n.useRouter)(),h=async()=>{try{await (0,l.CI)(d.j),u.push("/admin-view/login")}catch(e){console.error("Error signing out:",e),u.push("/admin-view/login")}};return"/admin-view/login"===x?(0,s.jsx)(s.Fragment,{children:e}):i?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):r?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-950 text-white",children:[(0,s.jsxs)("nav",{className:"bg-gray-900 border-b border-gray-800",children:[(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("span",{className:"text-xl font-bold text-purple-500",children:"Kreo Admin"})}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsxs)("div",{className:"ml-10 flex items-baseline space-x-4",children:[(0,s.jsx)(o(),{href:"/admin-view/dashboard",className:`px-3 py-2 rounded-md text-sm font-medium ${"/admin-view/dashboard"===x?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"Responses"}),(0,s.jsx)(o(),{href:"/admin-view/analytics",className:`px-3 py-2 rounded-md text-sm font-medium ${"/admin-view/analytics"===x?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"Analytics"}),(0,s.jsx)(o(),{href:"/",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:"View Survey"})]})})]}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)("div",{className:"ml-4 flex items-center md:ml-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"text-sm text-gray-300",children:r?.email}),(0,s.jsx)(c.$,{onClick:h,variant:"outline",className:"text-sm text-gray-300 border-gray-600 hover:bg-gray-700",children:"Sign out"})]})})}),(0,s.jsx)("div",{className:"-mr-2 flex md:hidden",children:(0,s.jsxs)("button",{type:"button",className:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false",children:[(0,s.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,s.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),(0,s.jsx)("div",{className:"md:hidden",id:"mobile-menu",children:(0,s.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[(0,s.jsx)(o(),{href:"/admin-view/dashboard",className:`block px-3 py-2 rounded-md text-base font-medium ${"/admin-view/dashboard"===x?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"Responses"}),(0,s.jsx)(o(),{href:"/admin-view/analytics",className:`block px-3 py-2 rounded-md text-base font-medium ${"/admin-view/analytics"===x?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"Analytics"}),(0,s.jsx)(o(),{href:"/",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:"View Survey"}),(0,s.jsxs)("div",{className:"pt-4 pb-3 border-t border-gray-700",children:[(0,s.jsx)("div",{className:"flex items-center px-5",children:(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("div",{className:"text-base font-medium leading-none text-white",children:"Admin User"}),(0,s.jsx)("div",{className:"text-sm font-medium leading-none text-gray-400",children:r?.email})]})}),(0,s.jsx)("div",{className:"mt-3 px-2 space-y-1",children:(0,s.jsx)("button",{onClick:h,className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700",children:"Sign out"})})]})]})})]}),(0,s.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e})]}):null}},19759:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(45512),a=t(58009),n=t(79334),i=t(77141),o=t(39400),d=t(64590),l=t(17656);function c(){let[e,r]=(0,a.useState)(!0),[t,c]=(0,a.useState)(0),[m,x]=(0,a.useState)(0),[u,h]=(0,a.useState)(0),[p,g]=(0,a.useState)(0),[v,f]=(0,a.useState)([]),b=(0,n.useRouter)(),y=e=>{let r=e.filter(e=>"completed"===e.user_info.completion_status);return console.log("Completed Responses:",r),r.length/e.length*100||0},j=e=>{let r=new Date;return e.filter(e=>{let t=new Date(e.user_info.last_updated);return t.getDate()===r.getDate()&&t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}).length},w=e=>e.reduce((e,r)=>e+(r.user_info.completion_time||0),0)/e.length||0;return((0,a.useCallback)(async()=>{try{let e=(0,l.rJ)(i.db,"responses"),r=(await (0,l.GG)(e)).docs.map(e=>e.data());console.log("Fetched Responses:",r),c(r.length),x(y(r)),h(j(r)),g(w(r)),f(r)}catch(e){console.error("Error fetching data:",e)}},[y,j,w]),e)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,s.jsx)("div",{className:"text-white",children:"Loading dashboard..."})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Kreo Gamer Survey Dashboard"}),(0,s.jsx)("div",{className:"flex space-x-4",children:(0,s.jsx)(o.$,{variant:"outline",onClick:()=>b.push("/admin-view/"),children:"Back to Admin View"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)(d.Zp,{className:"bg-gray-800 border-none",children:[(0,s.jsx)(d.aR,{className:"pb-2",children:(0,s.jsx)(d.ZB,{className:"text-gray-400 text-sm font-normal",children:"Total Responses"})}),(0,s.jsx)(d.Wu,{children:(0,s.jsx)("p",{className:"text-4xl font-bold",children:t})})]}),(0,s.jsxs)(d.Zp,{className:"bg-gray-800 border-none",children:[(0,s.jsx)(d.aR,{className:"pb-2",children:(0,s.jsx)(d.ZB,{className:"text-gray-400 text-sm font-normal",children:"Completion Rate"})}),(0,s.jsx)(d.Wu,{children:(0,s.jsxs)("p",{className:"text-4xl font-bold",children:[m,"%"]})})]}),(0,s.jsxs)(d.Zp,{className:"bg-gray-800 border-none",children:[(0,s.jsx)(d.aR,{className:"pb-2",children:(0,s.jsx)(d.ZB,{className:"text-gray-400 text-sm font-normal",children:"Responses Today"})}),(0,s.jsx)(d.Wu,{children:(0,s.jsx)("p",{className:"text-4xl font-bold",children:u})})]}),(0,s.jsxs)(d.Zp,{className:"bg-gray-800 border-none",children:[(0,s.jsx)(d.aR,{className:"pb-2",children:(0,s.jsx)(d.ZB,{className:"text-gray-400 text-sm font-normal",children:"Average Completion Time"})}),(0,s.jsx)(d.Wu,{children:(0,s.jsxs)("p",{className:"text-4xl font-bold",children:[p,"m"]})})]})]}),(0,s.jsxs)(d.Zp,{className:"bg-gray-800 border-none",children:[(0,s.jsx)(d.aR,{children:(0,s.jsx)(d.ZB,{children:"Survey Responses"})}),(0,s.jsx)(d.Wu,{children:v.length>0?v.map((e,r)=>(0,s.jsx)("p",{className:"text-gray-400",children:JSON.stringify(e)},r)):(0,s.jsx)("p",{className:"text-gray-400",children:"No responses yet."})})]})]})})}},39400:(e,r,t)=>{"use strict";t.d(r,{$:()=>l});var s=t(45512),a=t(58009),n=t(12705),i=t(21643),o=t(44195);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...i},l)=>{let c=a?n.DX:"button";return(0,s.jsx)(c,{className:(0,o.cn)(d({variant:r,size:t,className:e})),ref:l,...i})});l.displayName="Button"},64590:(e,r,t)=>{"use strict";t.d(r,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>o,wL:()=>m});var s=t(45512),a=t(58009),n=t(44195);let i=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));i.displayName="Card";let o=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let d=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let l=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let m=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r}));m.displayName="CardFooter"},44195:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(82281),a=t(94805);function n(...e){return(0,a.QP)((0,s.$)(e))}},64540:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Kreoo\\\\kreo-gamer-survey\\\\src\\\\app\\\\admin-view\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Kreoo\\kreo-gamer-survey\\src\\app\\admin-view\\layout.tsx","default")},68371:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Kreoo\\\\kreo-gamer-survey\\\\src\\\\app\\\\admin-view\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Kreoo\\kreo-gamer-survey\\src\\app\\admin-view\\page.tsx","default")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,438,267,531,702],()=>t(14053));module.exports=s})();